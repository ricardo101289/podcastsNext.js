{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Link from 'next/link';\nimport 'isomorphic-fetch';\n\nvar _default =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(_default, _React$Component);\n\n  function _default() {\n    _classCallCheck(this, _default);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(_default).apply(this, arguments));\n  }\n\n  _createClass(_default, [{\n    key: \"render\",\n    value: function render() {\n      var vehicles = this.props.vehicles;\n      return __jsx(\"div\", {\n        className: \"jsx-3950202536\" + \" \" + \"channels\"\n      }, vehicles.map(function (vehicle, i) {\n        return __jsx(Link, {\n          href: \"usados\",\n          as: vehicle.VehicleLink,\n          key: i\n        }, __jsx(\"a\", {\n          className: \"jsx-3950202536\" + \" \" + \"channel\"\n        }, __jsx(\"img\", {\n          src: vehicle.ImageUrl,\n          alt: \"\",\n          className: \"jsx-3950202536\"\n        }), __jsx(\"h2\", {\n          className: \"jsx-3950202536\"\n        }, vehicle.ModelValue + \" \" + vehicle.SubtypeValue)));\n      }), __jsx(_JSXStyle, {\n        id: \"3950202536\"\n      }, \".channels.jsx-3950202536{display:grid;grid-gap:15px;padding:15px;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));}a.channel.jsx-3950202536{display:block;margin-bottom:0.5em;color:#333;-webkit-text-decoration:none;text-decoration:none;}.channel.jsx-3950202536 img.jsx-3950202536{border-radius:3px;box-shadow:0px 2px 6px rgba(0,0,0,0.15);width:100%;}h2.jsx-3950202536{padding:5px;font-size:0.9em;font-weight:600;margin:0;text-align:center;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy91c3VhcmlvL0RvY3VtZW50cy9uZXh0anMvYXV0b3MuanMvcGFnZXMvdXNhZG9zLmpzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUErQnNCLEFBRzhCLEFBTUMsQUFNSSxBQUtOLFlBQ0ksQ0FqQkYsQ0FNTSxJQU11QixTQVg5QixDQWlCRyxNQVhMLE1BTGlELElBaUJuRCxDQVhZLFFBWUgsS0FQUCxXQUNiLEVBT0Esd0JBWkEsR0FOQSIsImZpbGUiOiIvVXNlcnMvdXN1YXJpby9Eb2N1bWVudHMvbmV4dGpzL2F1dG9zLmpzL3BhZ2VzL3VzYWRvcy5qc3giLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTGluayBmcm9tICduZXh0L2xpbmsnXG5pbXBvcnQgJ2lzb21vcnBoaWMtZmV0Y2gnO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnR7XG5cbiAgICBzdGF0aWMgYXN5bmMgZ2V0SW5pdGlhbFByb3BzKHsgcXVlcnksIHJlcyB9KXtcbiAgICAgICAgLy8gY29uc29sZS5sb2cocXVlcnkpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gaHR0cHM6Ly9lY3VhZG9yLnBhdGlvdHVlcmNhLmNvbS9wdHgvYXBpL3YyL25pdHJvcz90eXBlPUF1dG9zJmJyYW5kPWNoZXZyb2xldCZtb2RlbD1hdmVvJnN1YnR5cGU9JmNvdW50PTRcbiAgICAgICAgICAgIGxldCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGBodHRwczovL2VjdWFkb3IucGF0aW90dWVyY2EuY29tL3B0eC9hcGkvdjIvbml0cm9zP3R5cGU9QXV0b3MmYnJhbmQ9JHtxdWVyeS5tYXJjYX0mbW9kZWw9JHtxdWVyeS5tb2RlbG99JnN1YnR5cGU9JmNvdW50PTRgKTtcbiAgICAgICAgICAgIGxldCB2ZWhpY2xlcyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHZlaGljbGVzKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIHt2ZWhpY2xlcyA6IHZlaGljbGVzLmRhdGEucmVzdWx0X3NldCwgc3RhdHVzQ29kZToyMDB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzQ29kZSA9IDUwM1xuICAgICAgICAgICAgcmV0dXJuIHt2ZWhpY2xlczogbnVsbCwgc3RhdHVzQ29kZToyMDB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgY29uc3Qge3ZlaGljbGVzfSA9IHRoaXMucHJvcHM7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYW5uZWxzXCI+XG4gICAgICAgICAge3ZlaGljbGVzLm1hcCgodmVoaWNsZSwgaSkgPT4gKFxuICAgICAgICAgICAgPExpbmsgaHJlZj1cInVzYWRvc1wiIGFzPXt2ZWhpY2xlLlZlaGljbGVMaW5rfSBrZXk9e2l9PlxuICAgICAgICAgICAgICA8YSBjbGFzc05hbWU9XCJjaGFubmVsXCI+XG4gICAgICAgICAgICAgICAgPGltZyBzcmM9e3ZlaGljbGUuSW1hZ2VVcmx9IGFsdD1cIlwiIC8+XG4gICAgICAgICAgICAgICAgPGgyPnt2ZWhpY2xlLk1vZGVsVmFsdWUrXCIgXCIrdmVoaWNsZS5TdWJ0eXBlVmFsdWV9PC9oMj5cbiAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICkpfVxuICAgICAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgICAgICAgLmNoYW5uZWxzIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBncmlkO1xuICAgICAgICAgICAgICAgIGdyaWQtZ2FwOiAxNXB4O1xuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDE1cHg7XG4gICAgICAgICAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maWxsLCBtaW5tYXgoMTYwcHgsIDFmcikpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGEuY2hhbm5lbCB7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMC41ZW07XG4gICAgICAgICAgICAgICAgY29sb3I6ICMzMzM7XG4gICAgICAgICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC5jaGFubmVsIGltZyB7XG4gICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogM3B4O1xuICAgICAgICAgICAgICAgIGJveC1zaGFkb3c6IDBweCAycHggNnB4IHJnYmEoMCwgMCwgMCwgMC4xNSk7XG4gICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaDIge1xuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDVweDtcbiAgICAgICAgICAgICAgICBmb250LXNpemU6IDAuOWVtO1xuICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICAgICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYH1cbiAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICk7XG4gICAgfVxufSJdfQ== */\\n/*@ sourceURL=/Users/usuario/Documents/nextjs/autos.js/pages/usados.jsx */\"));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(_ref) {\n        var query, res, response, vehicles;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                query = _ref.query, res = _ref.res;\n                _context.prev = 1;\n                _context.next = 4;\n                return fetch(\"https://ecuador.patiotuerca.com/ptx/api/v2/nitros?type=Autos&brand=\".concat(query.marca, \"&model=\").concat(query.modelo, \"&subtype=&count=4\"));\n\n              case 4:\n                response = _context.sent;\n                _context.next = 7;\n                return response.json();\n\n              case 7:\n                vehicles = _context.sent;\n                console.log(vehicles);\n                return _context.abrupt(\"return\", {\n                  vehicles: vehicles.data.result_set,\n                  statusCode: 200\n                });\n\n              case 12:\n                _context.prev = 12;\n                _context.t0 = _context[\"catch\"](1);\n                res.statusCode = 503;\n                return _context.abrupt(\"return\", {\n                  vehicles: null,\n                  statusCode: 200\n                });\n\n              case 16:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[1, 12]]);\n      }));\n\n      function getInitialProps(_x) {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return _default;\n}(React.Component);\n\nexport { _default as default };","map":{"version":3,"sources":["/Users/usuario/Documents/nextjs/autos.js/pages/usados.jsx"],"names":["Link","vehicles","props","map","vehicle","i","VehicleLink","ImageUrl","ModelValue","SubtypeValue","query","res","fetch","marca","modelo","response","json","console","log","data","result_set","statusCode","React","Component"],"mappings":";;;;;;;;;;AAAA,OAAOA,IAAP,MAAiB,WAAjB;AACA,OAAO,kBAAP;;;;;;;;;;;;;;;6BAkBa;AAAA,UACFC,QADE,GACU,KAAKC,KADf,CACFD,QADE;AAEP,aACE;AAAA,4CAAe;AAAf,SACGA,QAAQ,CAACE,GAAT,CAAa,UAACC,OAAD,EAAUC,CAAV;AAAA,eACZ,MAAC,IAAD;AAAM,UAAA,IAAI,EAAC,QAAX;AAAoB,UAAA,EAAE,EAAED,OAAO,CAACE,WAAhC;AAA6C,UAAA,GAAG,EAAED;AAAlD,WACE;AAAA,8CAAa;AAAb,WACE;AAAK,UAAA,GAAG,EAAED,OAAO,CAACG,QAAlB;AAA4B,UAAA,GAAG,EAAC,EAAhC;AAAA;AAAA,UADF,EAEE;AAAA;AAAA,WAAKH,OAAO,CAACI,UAAR,GAAmB,GAAnB,GAAuBJ,OAAO,CAACK,YAApC,CAFF,CADF,CADY;AAAA,OAAb,CADH;AAAA;AAAA,sxHADF;AAuCD;;;;;;;;;;;;AAxD8BC,gBAAAA,K,QAAAA,K,EAAOC,G,QAAAA,G;;;uBAITC,KAAK,8EAAuEF,KAAK,CAACG,KAA7E,oBAA4FH,KAAK,CAACI,MAAlG,uB;;;AAAtBC,gBAAAA,Q;;uBACiBA,QAAQ,CAACC,IAAT,E;;;AAAjBf,gBAAAA,Q;AACJgB,gBAAAA,OAAO,CAACC,GAAR,CAAYjB,QAAZ;iDAEO;AAACA,kBAAAA,QAAQ,EAAGA,QAAQ,CAACkB,IAAT,CAAcC,UAA1B;AAAsCC,kBAAAA,UAAU,EAAC;AAAjD,iB;;;;;AAEPV,gBAAAA,GAAG,CAACU,UAAJ,GAAiB,GAAjB;iDACO;AAACpB,kBAAAA,QAAQ,EAAE,IAAX;AAAiBoB,kBAAAA,UAAU,EAAC;AAA5B,iB;;;;;;;;;;;;;;;;;;;EAbUC,KAAK,CAACC,S","sourcesContent":["import Link from 'next/link'\nimport 'isomorphic-fetch';\nexport default class extends React.Component{\n\n    static async getInitialProps({ query, res }){\n        // console.log(query);\n        try {\n            // https://ecuador.patiotuerca.com/ptx/api/v2/nitros?type=Autos&brand=chevrolet&model=aveo&subtype=&count=4\n            let response = await fetch(`https://ecuador.patiotuerca.com/ptx/api/v2/nitros?type=Autos&brand=${query.marca}&model=${query.modelo}&subtype=&count=4`);\n            let vehicles = await response.json();\n            console.log(vehicles);\n            \n            return {vehicles : vehicles.data.result_set, statusCode:200}\n        } catch (error) {\n            res.statusCode = 503\n            return {vehicles: null, statusCode:200}\n        }\n    }\n\n    render() {\n    const {vehicles} = this.props;\n      return (\n        <div className=\"channels\">\n          {vehicles.map((vehicle, i) => (\n            <Link href=\"usados\" as={vehicle.VehicleLink} key={i}>\n              <a className=\"channel\">\n                <img src={vehicle.ImageUrl} alt=\"\" />\n                <h2>{vehicle.ModelValue+\" \"+vehicle.SubtypeValue}</h2>\n              </a>\n            </Link>\n          ))}\n          <style jsx>{`\n              .channels {\n                display: grid;\n                grid-gap: 15px;\n                padding: 15px;\n                grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));\n              }\n              a.channel {\n                display: block;\n                margin-bottom: 0.5em;\n                color: #333;\n                text-decoration: none;\n              }\n              .channel img {\n                border-radius: 3px;\n                box-shadow: 0px 2px 6px rgba(0, 0, 0, 0.15);\n                width: 100%;\n              }\n              h2 {\n                padding: 5px;\n                font-size: 0.9em;\n                font-weight: 600;\n                margin: 0;\n                text-align: center;\n              }\n            `}\n          </style>\n        </div>\n      );\n    }\n}"]},"metadata":{},"sourceType":"module"}